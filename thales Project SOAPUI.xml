<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="ed55d0a4-9771-4c8e-aa18-c411bdd98864" activeEnvironment="Default" name="Project 1" resourceRoot="${projectDir}" soapui-version="5.7.0" abortOnError="false" runType="SEQUENTIAL" defaultScriptLanguage="Groovy" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="aea854a3-50b4-4657-884d-9e5a5e168005" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://en.wikipedia.org" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://en.wikipedia.org</con:endpoint></con:endpoints><con:resource name="Api.php" path="/w/api.php" id="ba1c61b5-dfa0-4dea-8ce2-3bef24a36dad"><con:settings/><con:parameters/><con:method name="Api.php 1" id="4096ed94-f351-448f-b0e9-bb80c9256c92" method="GET"><con:settings/><con:parameters><con:parameter><con:name>action</con:name><con:value>query</con:value><con:style>QUERY</con:style><con:default>query</con:default></con:parameter><con:parameter><con:name>format</con:name><con:value>json</con:value><con:style>QUERY</con:style><con:default>json</con:default></con:parameter><con:parameter><con:name>generator</con:name><con:value>random</con:value><con:style>QUERY</con:style><con:default>random</con:default></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:api="https://en.wikipedia.org/w/api.php">api:Response</con:element></con:representation><con:request name="randomArticleGenerator" id="40bd3dfa-cafb-4d4e-8e79-b0b65124f907" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://en.wikipedia.org</con:endpoint><con:request/><con:originalUri>https://en.wikipedia.org/w/api.php</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="format" value="json"/>
  <con:entry key="action" value="query"/>
  <con:entry key="generator" value="random"/>
</con:parameters><con:parameterOrder><con:entry>action</con:entry><con:entry>format</con:entry><con:entry>generator</con:entry></con:parameterOrder></con:request></con:method><con:method name="Method2" id="4096ed94-f351-448f-b0e9-bb80c9256c92" method="GET"><con:settings/><con:parameters><con:parameter><con:name>action</con:name><con:value>query</con:value><con:style>QUERY</con:style><con:default>query</con:default></con:parameter><con:parameter><con:name>format</con:name><con:value>json</con:value><con:style>QUERY</con:style><con:default>json</con:default></con:parameter><con:parameter><con:name>pageids</con:name><con:value>${#TestCase#pageid}</con:value><con:style>QUERY</con:style><con:default>${#TestCase#pageid}</con:default></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:api="https://en.wikipedia.org/w/api.php">api:Response</con:element></con:representation><con:request name="GetArticleById" id="40bd3dfa-cafb-4d4e-8e79-b0b65124f907" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://en.wikipedia.org</con:endpoint><con:request/><con:originalUri>https://en.wikipedia.org/w/api.php</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="pageids" value="${#TestCase#pageid}"/>
  <con:entry key="format" value="json"/>
  <con:entry key="action" value="query"/>
</con:parameters><con:parameterOrder><con:entry>action</con:entry><con:entry>format</con:entry><con:entry>pageids</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="d2926059-1ebd-4bb2-b916-67438cce3c6c" name="https://en.wikipedia.org TestSuite"><con:description>TestSuite generated for REST Service [https://en.wikipedia.org]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="09b8278b-cb01-4733-ab6c-45cb6a979c1d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Api.php TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [Api.php] located at [/w/api.php]</con:description><con:settings/><con:testStep type="restrequest" name="randomArticleGenerator" id="a664c9e9-9048-4225-b631-b908fbf7a0ca"><con:settings/><con:config service="https://en.wikipedia.org" resourcePath="/w/api.php" methodName="Api.php 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="randomArticleGenerator" id="40bd3dfa-cafb-4d4e-8e79-b0b65124f907" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://en.wikipedia.org</con:endpoint><con:request/><con:originalUri>https://en.wikipedia.org/w/api.php</con:originalUri><con:assertion type="Simple Contains" id="5cb19181-1e4c-4900-ac7c-195d716dcb25" name="Contains title"><con:configuration><token>title</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="ddfd9cf3-aa1f-475c-a876-18f3de4211f1" name="Counts 1 page"><con:configuration><path>query.pages</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="0960d2bc-f06d-4e7b-9f4f-0ae37320bd90" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="format" value="json"/>
  <con:entry key="action" value="query"/>
  <con:entry key="generator" value="random"/>
</con:parameters><con:parameterOrder><con:entry>action</con:entry><con:entry>format</con:entry><con:entry>generator</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="id title transfer" id="a88ebce3-72c3-4b5b-a524-0e6a07c7cba2"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>randomArticleGenerator</con:sourceStep><con:sourcePath>query.pages..pageid</con:sourcePath><con:targetType>pageidExp</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>title</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>randomArticleGenerator</con:sourceStep><con:sourcePath>query.pages..title</con:sourcePath><con:targetType>titleExp</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" ignoreEmpty="false" transferChildNodes="false"><con:name>id2properties</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>randomArticleGenerator</con:sourceStep><con:sourcePath>query.pages..pageid</con:sourcePath><con:targetType>pageid</con:targetType><con:targetStep>Properties</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>title2properties</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>randomArticleGenerator</con:sourceStep><con:sourcePath>query.pages..title</con:sourcePath><con:targetType>title</con:targetType><con:targetStep>Properties</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="fixData" id="619a892e-7ec8-4890-828a-db0b3f0f6939"><con:settings/><con:config><script>
def pageIdBraces = context.getTestCase().getPropertyValue("pageidExp")
log.info pageIdBraces
def titleBraces = context.getTestCase().getPropertyValue("titleExp")
log.info titleBraces

def pageIdStripped = pageIdBraces.replaceAll("\\[", "").replaceAll("\\]","");
log.info pageIdStripped
context.getTestCase().setPropertyValue("pageidExp",pageIdStripped)

def titleIdStripped = titleBraces.replaceAll("\\[", "").replaceAll("\\]","");
log.info titleIdStripped
context.getTestCase().setPropertyValue("titleExp",titleIdStripped)</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="6dbd8172-e9d4-4740-aa4d-ca7a5b9b7744"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>pageid</con:name><con:value>[46595582]</con:value></con:property><con:property><con:name>title</con:name><con:value>[User talk:Aka allahu akbar]</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="getArticleByID" id="76195a2b-29ff-46e3-9fa2-85c933088973"><con:settings/><con:config service="https://en.wikipedia.org" resourcePath="/w/api.php" methodName="Method2" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getArticleByID" id="40bd3dfa-cafb-4d4e-8e79-b0b65124f907" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://en.wikipedia.org</con:endpoint><con:request/><con:originalUri>https://en.wikipedia.org/w/api.php</con:originalUri><con:assertion type="GroovyScriptAssertion" id="d56815f2-c169-437c-b573-726afe509a39" name="fixData"><con:configuration><scriptText>
def pageIdBraces = context.getTestCase().getPropertyValue("pageidExp")
def titleBraces = context.getTestCase().getPropertyValue("titleExp")

if (pageIdBraces.contains("[")){
}
else{
def pageIdStripped = "[" + pageIdBraces + "]";
context.getTestCase().setPropertyValue("pageidAct",pageIdStripped)
def titleIdStripped = "[" + titleBraces+ "]";
context.getTestCase().setPropertyValue("titleAct",titleIdStripped)
	
log.info pageIdStripped
log.info titleIdStripped
}

</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="8b2610c8-ca92-4d48-a470-bac43536637b" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="4cd29166-f80f-4711-ba33-1817d4276ece" name="PagesCountAssert"><con:configuration><path>query.pages</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="decbe18f-fa89-423b-b978-59278c40ef08" name="Contains Title"><con:configuration><token>title</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="7f8f4530-9b5a-4349-823f-a2a2d0402fa8" name="title Assert"><con:configuration><path>query.pages..title</path><content>${#TestCase#titleAct}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="dc95a01b-3b71-4927-8617-8a793d316bf7" name="PageID assert"><con:configuration><path>query.pages..pageid</path><content>${#TestCase#pageidAct}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="pageids" value="${#TestCase#pageidExp}"/>
  <con:entry key="format" value="json"/>
  <con:entry key="action" value="query"/>
</con:parameters><con:parameterOrder><con:entry>action</con:entry><con:entry>format</con:entry><con:entry>pageids</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Random Number generator" id="babadd55-1b77-47f8-87b0-c6424f07fcf8"><con:settings/><con:config><script>def randomNum= (Math.abs( new Random().nextInt() % (999999 - 100000) ) + 100000).toString()
context.getTestCase().setPropertyValue("randomID",randomNum)
log.info randomNum</script></con:config></con:testStep><con:testStep type="restrequest" name="getArticleByRandomID" id="80e4b54e-4598-43f4-a30a-44165faeb42e"><con:settings/><con:config service="https://en.wikipedia.org" resourcePath="/w/api.php" methodName="Method2" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getArticleByRandomID" id="40bd3dfa-cafb-4d4e-8e79-b0b65124f907" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://en.wikipedia.org</con:endpoint><con:request/><con:originalUri>https://en.wikipedia.org/w/api.php</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8b2610c8-ca92-4d48-a470-bac43536637b" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="4cd29166-f80f-4711-ba33-1817d4276ece" name="PagesCountAssert"><con:configuration><path>query.pages</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="decbe18f-fa89-423b-b978-59278c40ef08" name="Contains Title"><con:configuration><token>title</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="pageids" value="${#TestCase#randomID}"/>
  <con:entry key="format" value="json"/>
  <con:entry key="action" value="query"/>
</con:parameters><con:parameterOrder><con:entry>action</con:entry><con:entry>format</con:entry><con:entry>pageids</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>pageidExp</con:name><con:value>46595582</con:value></con:property><con:property><con:name>titleExp</con:name><con:value>User talk:Aka allahu akbar</con:value></con:property><con:property><con:name>titleAct</con:name><con:value>[User talk:Aka allahu akbar]</con:value></con:property><con:property><con:name>pageidAct</con:name><con:value>[46595582]</con:value></con:property><con:property><con:name>randomID</con:name><con:value>780406</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>pageid</con:name><con:value/></con:property><con:property><con:name>title</con:name><con:value/></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>